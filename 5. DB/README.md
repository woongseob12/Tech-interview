# Database

## 정규화(Normalization)

`관계형 데이터베이스에서 데이터 중복을 최소화 하기 위해 데이터를 구조화 하는 작업`

**목적**

- 이상 현상 제거
  1. 삽입 이상: 새로운 데이터를 삽입하기 위해 불필요한 데이터도 함께 삽입
  2. 갱신 이상: 반복된 데이터중 일부를 갱신할 경우 데이터의 불일치 발생
  3. 삭제 이상: 데이터를 삭제하기 위해 필요한 데이터도 함께 삭제
- 데이터 베이스 구조 확장 시 재 디자인 최소화
- 사용자에게 데이터 모델을 더욱 의미있게 제공

**종류**

1. 제 1 정규형(First Normal Form, 1NF)

   ![image](https://user-images.githubusercontent.com/55429912/120803172-3cb55500-c57e-11eb-8474-48a988b4050c.png)

   `속성의 원자성(Atomic)을 확보, 기본키를 설정`

2. 제 2 정규형(Second Normal Form, 2NF)

   ![image](https://user-images.githubusercontent.com/55429912/120803386-76865b80-c57e-11eb-8953-a9536b26912c.png)

   `기본키가 2개 이상의 속성으로 이루어진 경우, 부분 함수 종속성 제거`

3. 제 3 정규형(Third Normal Form, 3NF)

   ![image](https://user-images.githubusercontent.com/55429912/120804048-28be2300-c57f-11eb-8225-18d02de76be0.png)

   `이행 함수 종속성 제거`

**함수적 종속성이란?**

---

## 인덱스(Index)

`데이터의 위치를 빠르게 찾아주는 역할`

**구조**

1. Hash
   - 컬럼의 값으로 생성된 해시 기반으로 인덱스를 구현, 탐색시 O(1)이라 검색이 매우 빠르지만, 부등호와 같은 연속적인 데이터를 위한 순차 검색이 불가능
2. B+Tree
   - 범위 연산에 우수하여 주로 사용

**장단점**

- Table의 Record를 Full scan 하지 않고, Index 파일 검색으로 검색 속도 향상
- 한 페이지를 동시에 수정할 수 있는 병행성이 줄어듦
- 인덱스된 필드에서 데이터를 삽입, 삭제, 수정시 성능이 떨어짐
-

## 트랜잭션(Transaction)

`하나의 논리적 작업 단위를 구성하는 일련의 연산들의 집합`

**특성(ACID)**

1. 원자성(Atomicity)
   - 트랜잭션이 DB에 모두 반영되거나, 혹은 전혀 반영되지 않아야 한다.
2. 일관성(Consistency)
   - 트랜잭션의 작업 처리 결과는 항상 일관성 있어야 한다.
3. 독립성(Isolation)
   - 둘 이상의 트랜잭션이 동시에 병행 실행되고 있을 때, 어떤 트랜잭션도 다른 트랜잭션 연산에 끼어들 수 없다.
4. 지속성(Durability)
   - 트랜잭션이 성공적으로 완료되었으면, 결과는 영구적으로 반영되어야 한다.

**연산**

Commit

- 하나의 트랜잭션이 성공적으로 끝났고, DB가 일관성있는 상태일때 이를 알려주기 위해 사용하는 연산

Rollback

- 하나의 트랜잭션 처리가 비정상적으로 종료되어 트랜잭션 원자성이 깨진 경우
- transaction이 정상적으로 종료되지 않았을 때, last consistent state로 roll back 할 수 있음
